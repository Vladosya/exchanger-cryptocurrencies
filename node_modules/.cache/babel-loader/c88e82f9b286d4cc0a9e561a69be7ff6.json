{"ast":null,"code":"import _regeneratorRuntime from \"C:/Job/work/365-change/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Job/work/365-change/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.function.name.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { email, required } from \"vuelidate/lib/validators\";\nexport default {\n  name: \"contact-component\",\n  data: function data() {\n    return {\n      formContact: {\n        name: \"\",\n        email: \"\",\n        id_exchange: \"\",\n        message: \"\"\n      },\n      isDisabledBtnSubmit: false\n    };\n  },\n  methods: {\n    status: function status(validation) {\n      return {\n        \"is-invalid\": validation.$error\n      };\n    },\n    contactSubmitForm: function contactSubmitForm() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var formData, resCreateContact;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this.$v.$touch();\n\n                if (!_this.$v.$invalid) {\n                  _context.next = 5;\n                  break;\n                }\n\n                console.log(\"Error\");\n                _context.next = 20;\n                break;\n\n              case 5:\n                console.log(\"Success\");\n                _context.prev = 6;\n\n                _this.$emit(\"isLoadingBehavior\", true);\n\n                formData = {\n                  name: _this.formContact.name,\n                  email: _this.formContact.email,\n                  id_exchange: _this.formContact.id_exchange,\n                  message: _this.formContact.message\n                };\n                _context.next = 11;\n                return _this.$store.dispatch(\"createContact\", formData);\n\n              case 11:\n                resCreateContact = _context.sent;\n\n                if (resCreateContact.result === true) {\n                  _this.$emit(\"isLoadingBehavior\", false);\n\n                  _this.$notify({\n                    title: \"Успех отправки отзыва\",\n                    message: \"\".concat(resCreateContact.message),\n                    type: \"success\"\n                  });\n\n                  setTimeout(function () {\n                    _this.isDisabledBtnSubmit = false;\n\n                    _this.$router.go(0);\n                  }, 2000);\n                }\n\n                _context.next = 20;\n                break;\n\n              case 15:\n                _context.prev = 15;\n                _context.t0 = _context[\"catch\"](6);\n\n                _this.$emit(\"isLoadingBehavior\", false);\n\n                _this.isDisabledBtnSubmit = false;\n                console.log(\"Error in contactSubmitForm in ContactComponent func -->\", _context.t0);\n\n              case 20:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[6, 15]]);\n      }))();\n    }\n  },\n  validations: {\n    formContact: {\n      name: {\n        required: required\n      },\n      email: {\n        email: email,\n        required: required\n      },\n      id_exchange: {\n        required: required\n      },\n      message: {\n        required: required\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6GA;AAEA;EACAA,yBADA;EAEAC,IAFA,kBAEA;IACA;MACAC;QACAF,QADA;QAEAG,SAFA;QAGAC,eAHA;QAIAC;MAJA,CADA;MAOAC;IAPA;EASA,CAZA;EAaAC;IACAC,MADA,kBACAC,UADA,EACA;MACA;QACA;MADA;IAGA,CALA;IAMAC,iBANA,+BAMA;MAAA;;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;;gBADA,KAEA,iBAFA;kBAAA;kBAAA;gBAAA;;gBAGAC;gBAHA;gBAAA;;cAAA;gBAKAA;gBALA;;gBAOA;;gBACAC,QARA,GAQA;kBACAZ,4BADA;kBAEAG,8BAFA;kBAGAC,0CAHA;kBAIAC;gBAJA,CARA;gBAAA;gBAAA,OAeA,sBACA,eADA,EAEAO,QAFA,CAfA;;cAAA;gBAeAC,gBAfA;;gBAmBA;kBACA;;kBACA;oBACAC,8BADA;oBAEAT,4CAFA;oBAGAU;kBAHA;;kBAKAC;oBACA;;oBACA;kBACA,CAHA,EAGA,IAHA;gBAIA;;gBA9BA;gBAAA;;cAAA;gBAAA;gBAAA;;gBAgCA;;gBACA;gBACAL,YACA,yDADA;;cAlCA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAwCA;EA9CA,CAbA;EA6DAM;IACAf;MACAF;QACAkB;MADA,CADA;MAIAf;QACAA,YADA;QAEAe;MAFA,CAJA;MAQAd;QACAc;MADA,CARA;MAWAb;QACAa;MADA;IAXA;EADA;AA7DA","names":["name","data","formContact","email","id_exchange","message","isDisabledBtnSubmit","methods","status","validation","contactSubmitForm","console","formData","resCreateContact","title","type","setTimeout","validations","required"],"sourceRoot":"src/components","sources":["ContactComponent.vue"],"sourcesContent":["<template>\r\n  <form class=\"main-contacts-left__form\" @submit.prevent=\"contactSubmitForm\">\r\n    <div class=\"main-contacts-left__form_name\">\r\n      <label class=\"main-contacts-left__form_name_label\" for=\"contact-name\"\r\n        >Ваше имя <span>*</span>:</label\r\n      >\r\n      <div class=\"main-contacts-left__form_name_input\">\r\n        <input\r\n          type=\"text\"\r\n          id=\"contact-name\"\r\n          @blur=\"$v.formContact.name.$touch()\"\r\n          v-model.trim=\"formContact.name\"\r\n        />\r\n        <div\r\n          class=\"invalid-feed\"\r\n          v-if=\"\r\n            $v.formContact.name.$error ||\r\n            ($v.formContact.name.$dirty && !$v.formContact.name.required)\r\n          \"\r\n        >\r\n          Необходимо указать Имя\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"main-contacts-left__form_email\">\r\n      <label class=\"main-contacts-left__form_email_label\" for=\"contact-email\"\r\n        >Ваш e-mail <span>*</span>:</label\r\n      >\r\n      <div class=\"main-contacts-left__form_email_input\">\r\n        <input\r\n          type=\"text\"\r\n          id=\"contact-email\"\r\n          @blur=\"$v.formContact.email.$touch()\"\r\n          :class=\"status($v.formContact.email)\"\r\n          v-model.trim=\"formContact.email\"\r\n        />\r\n        <div\r\n          class=\"invalid-feed\"\r\n          v-if=\"\r\n            $v.formContact.email.$error ||\r\n            ($v.formContact.email.$dirty && !$v.formContact.email.required)\r\n          \"\r\n        >\r\n          Необходимо указать email\r\n        </div>\r\n        <div class=\"invalid-feed\" v-if=\"!$v.formContact.email.email\">\r\n          Пожалуйста введите Email адрес\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"main-contacts-left__form_id\">\r\n      <label class=\"main-contacts-left__form_id_label\" for=\"contact-id\"\r\n        >ID обмена:</label\r\n      >\r\n      <div class=\"main-contacts-left__form_id_input\">\r\n        <input\r\n          id=\"contact-id\"\r\n          type=\"text\"\r\n          @blur=\"$v.formContact.id_exchange.$touch()\"\r\n          v-model.trim=\"formContact.id_exchange\"\r\n        />\r\n        <div\r\n          class=\"invalid-feed\"\r\n          v-if=\"\r\n            $v.formContact.id_exchange.$error ||\r\n            ($v.formContact.id_exchange.$dirty &&\r\n              !$v.formContact.id_exchange.required)\r\n          \"\r\n        >\r\n          Необходимо указать ID обмена\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"main-contacts-left__form_message\">\r\n      <label\r\n        class=\"main-contacts-left__form_message_label\"\r\n        for=\"contact-message\"\r\n        >Текст отзыва <span>*</span>:</label\r\n      >\r\n      <div class=\"main-contacts-left__form_message_textarea\">\r\n        <textarea\r\n          id=\"contact-message\"\r\n          @blur=\"$v.formContact.message.$touch()\"\r\n          v-model.trim=\"formContact.message\"\r\n        ></textarea>\r\n        <div\r\n          class=\"invalid-feed\"\r\n          v-if=\"\r\n            $v.formContact.message.$error ||\r\n            ($v.formContact.message.$dirty && !$v.formContact.message.required)\r\n          \"\r\n        >\r\n          Необходимо указать текст отзыва\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"main-contacts-left__form_btn\">\r\n      <button\r\n        type=\"submit\"\r\n        :disabled=\"isDisabledBtnSubmit\"\r\n        @click.prevent=\"contactSubmitForm\"\r\n      >\r\n        Отправить сообщение\r\n      </button>\r\n    </div>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport { email, required } from \"vuelidate/lib/validators\";\r\n\r\nexport default {\r\n  name: \"contact-component\",\r\n  data() {\r\n    return {\r\n      formContact: {\r\n        name: \"\",\r\n        email: \"\",\r\n        id_exchange: \"\",\r\n        message: \"\",\r\n      },\r\n      isDisabledBtnSubmit: false,\r\n    };\r\n  },\r\n  methods: {\r\n    status(validation) {\r\n      return {\r\n        \"is-invalid\": validation.$error,\r\n      };\r\n    },\r\n    async contactSubmitForm() {\r\n      this.$v.$touch();\r\n      if (this.$v.$invalid) {\r\n        console.log(\"Error\");\r\n      } else {\r\n        console.log(\"Success\");\r\n        try {\r\n          this.$emit(\"isLoadingBehavior\", true);\r\n          const formData = {\r\n            name: this.formContact.name,\r\n            email: this.formContact.email,\r\n            id_exchange: this.formContact.id_exchange,\r\n            message: this.formContact.message,\r\n          };\r\n\r\n          const resCreateContact = await this.$store.dispatch(\r\n            \"createContact\",\r\n            formData\r\n          );\r\n          if (resCreateContact.result === true) {\r\n            this.$emit(\"isLoadingBehavior\", false);\r\n            this.$notify({\r\n              title: \"Успех отправки отзыва\",\r\n              message: `${resCreateContact.message}`,\r\n              type: \"success\",\r\n            });\r\n            setTimeout(() => {\r\n              this.isDisabledBtnSubmit = false;\r\n              this.$router.go(0);\r\n            }, 2000);\r\n          }\r\n        } catch (error) {\r\n          this.$emit(\"isLoadingBehavior\", false);\r\n          this.isDisabledBtnSubmit = false;\r\n          console.log(\r\n            \"Error in contactSubmitForm in ContactComponent func -->\",\r\n            error\r\n          );\r\n        }\r\n      }\r\n    },\r\n  },\r\n  validations: {\r\n    formContact: {\r\n      name: {\r\n        required,\r\n      },\r\n      email: {\r\n        email,\r\n        required,\r\n      },\r\n      id_exchange: {\r\n        required,\r\n      },\r\n      message: {\r\n        required,\r\n      },\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.main-contacts-left__form_name {\r\n  padding: 8px 0;\r\n}\r\n\r\n.main-contacts-left__form_name_label {\r\n  padding: 0 0 3px;\r\n  font: 600 13px \"Segoe UI\", sans-serif;\r\n  color: #252927;\r\n}\r\n\r\n.main-contacts-left__form_name_label > span {\r\n  color: #ff0000;\r\n}\r\n\r\n.main-contacts-left__form_name_input > input {\r\n  outline: none;\r\n  border: 1px solid #e2e2e2;\r\n  background: #fff;\r\n  opacity: 0.75;\r\n  height: 40px;\r\n  width: 200px;\r\n  padding: 0 10px;\r\n  box-sizing: border-box;\r\n  color: #545454;\r\n  font: 13px/40px \"Segoe UI\", sans-serif;\r\n}\r\n\r\n.main-contacts-left__form_name_input > input:focus {\r\n  border: 1px solid #00cccb;\r\n}\r\n\r\n.main-contacts-left__form_email {\r\n  padding: 8px 0;\r\n}\r\n\r\n.main-contacts-left__form_email_label {\r\n  padding: 0 0 3px;\r\n  font: 600 13px \"Segoe UI\", sans-serif;\r\n  color: #252927;\r\n}\r\n\r\n.main-contacts-left__form_email_label > span {\r\n  color: #ff0000;\r\n}\r\n\r\n.main-contacts-left__form_email_input > input {\r\n  outline: none;\r\n  border: 1px solid #e2e2e2;\r\n  background: #fff;\r\n  opacity: 0.75;\r\n  height: 40px;\r\n  width: 200px;\r\n  padding: 0 10px;\r\n  box-sizing: border-box;\r\n  color: #545454;\r\n  font: 13px/40px \"Segoe UI\", sans-serif;\r\n}\r\n\r\n.main-contacts-left__form_email_input > input:focus {\r\n  border: 1px solid #00cccb;\r\n}\r\n\r\n.main-contacts-left__form_id {\r\n  padding: 8px 0;\r\n}\r\n\r\n.main-contacts-left__form_id_label {\r\n  padding: 0 0 3px;\r\n  font: 600 13px \"Segoe UI\", sans-serif;\r\n  color: #252927;\r\n}\r\n\r\n.main-contacts-left__form_id_label > span {\r\n  color: #ff0000;\r\n}\r\n\r\n.main-contacts-left__form_id_input > input {\r\n  outline: none;\r\n  border: 1px solid #e2e2e2;\r\n  background: #fff;\r\n  opacity: 0.75;\r\n  height: 40px;\r\n  width: 200px;\r\n  padding: 0 10px;\r\n  box-sizing: border-box;\r\n  color: #545454;\r\n  font: 13px/40px \"Segoe UI\", sans-serif;\r\n}\r\n\r\n.main-contacts-left__form_id_input > input:focus {\r\n  border: 1px solid #00cccb;\r\n}\r\n\r\n.main-contacts-left__form_message {\r\n  padding: 8px 0;\r\n}\r\n\r\n.main-contacts-left__form_message_label {\r\n  padding: 0 0 3px;\r\n  font: 600 13px \"Segoe UI\", sans-serif;\r\n  color: #252927;\r\n}\r\n\r\n.main-contacts-left__form_message_label > span {\r\n  color: #ff0000;\r\n}\r\n\r\n.main-contacts-left__form_message_textarea > textarea {\r\n  overflow: hidden;\r\n  outline: none;\r\n  border: 1px solid #e2e2e2;\r\n  background: #fff;\r\n  opacity: 0.75;\r\n  width: 100%;\r\n  max-width: 100%;\r\n  min-width: 100%;\r\n  height: 150px;\r\n  min-height: 150px;\r\n  padding: 0 10px;\r\n  box-sizing: border-box;\r\n  color: #545454;\r\n  font: 13px/40px \"Segoe UI\", sans-serif;\r\n}\r\n\r\n.main-contacts-left__form_message_textarea > textarea:focus {\r\n  border: 1px solid #00cccb;\r\n}\r\n\r\n.main-contacts-left__form_btn {\r\n  padding: 8px 0;\r\n}\r\n\r\n.main-contacts-left__form_btn > button {\r\n  transition: all 0.3s linear;\r\n  box-sizing: border-box;\r\n  border: none;\r\n  background-color: #e4e4e4;\r\n  height: 40px;\r\n  font: 100 14px/40px \"Segoe UI\", serif;\r\n  text-transform: uppercase;\r\n  color: #000;\r\n  padding: 0 30px;\r\n  cursor: pointer;\r\n  text-decoration: none;\r\n}\r\n\r\n.main-contacts-left__form_btn > button:hover {\r\n  background-color: #ffc512;\r\n}\r\n\r\n.is-invalid {\r\n  font-size: 12px;\r\n  border: 1px solid #dc3545;\r\n}\r\n\r\n.invalid-feed {\r\n  margin-top: 3px;\r\n  font-size: 12px;\r\n  color: #dc3545;\r\n}\r\n\r\n@media (max-width: 428px) {\r\n  .main-contacts-left__form_btn > button {\r\n    font: 100 12px/40px \"Segoe UI\", serif;\r\n  }\r\n}\r\n\r\n@media (max-width: 390px) {\r\n  .main-contacts-left__form_name_input > input {\r\n    font: 11px/40px \"Segoe UI\", sans-serif;\r\n  }\r\n\r\n  .main-contacts-left__form_email_input > input {\r\n    font: 11px/40px \"Segoe UI\", sans-serif;\r\n  }\r\n\r\n  .main-contacts-left__form_id_input > input {\r\n    font: 11px/40px \"Segoe UI\", sans-serif;\r\n  }\r\n\r\n  .main-contacts-left__form_message_textarea > textarea {\r\n    font: 11px/40px \"Segoe UI\", sans-serif;\r\n  }\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}